<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="Subtitle" content="sharing, open source, interesting">
    <meta name="Description" content="record the history of the academic qualifications, the interesting things and the sentiments of life">
    <meta name="Keywords" content="c++,Qt,opengl,opencv">
    <meta name="Author" content="umatobu">

    <title>umatobu&#39;s blog</title>
    <link rel="icon" type="image/png" href="/icon/favicon.png" sizes="32x32">
    <link rel="stylesheet" href="/css/style.css">
    <script src="/scripts/tabswitch.js"></script>
</head>
  <body>
    <div class="wrap">
      <header>
  <a href="/" class="logo-link"><img src="/icon/header_logo.png" alt="icon"></a>
  <ul class="nav nav-list">
    
      <li class="nav-list-item">
        <a href="/" target="_self" class="nav-list-link ">HOME</a>
      </li>
    
      <li class="nav-list-item">
        <a href="/archives" target="_self" class="nav-list-link ">ARCHIVES</a>
      </li>
    
      <li class="nav-list-item">
        <a href="/aboutme" target="_self" class="nav-list-link ">ABOUTME</a>
      </li>
    
  </ul>
</header>
      <main class="container">

  
  

  
  

  
  


  <div class="post">
    <article class="post-block">
      <h1 class="post-title">使用Hexo框架搭建GitHub博客</h1>
      <div class="post-info">2018-06-14</div>
      <div class="post-content">
        <p>　　假如你没有云服务器，但是又囊中羞涩不想购买云服务器，那么用Hexo+GitHub建立一个静态的网站或博客也是一个不错的选择！而且你还可以购买域名解析到对应的Github-Pages的URL上。不花钱而且能存上自己写的笔记博客，甚至自己写的app也有show-web了，可以说是非常美滋滋了~</p>
<a id="more"></a>

<div class="tip">
本文不再赘述Git、nodejs、npm(&cnpm)的安装和使用方法，要求最低会简单使用GitHub
</div>

<h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><ul>
<li>在<a href="https://github.com/" target="_blank" rel="noopener">GitHub官网</a>注册你的账号，如果有账号忽略本条。<a href="https://gitee.com/" target="_blank" rel="noopener">码云</a>应该同样适用，作者没在码云搭建过，不能确定</li>
<li>注册之后创建一个名为”XXX.github.io”的空项目（XXX为你的GitHub用户名），例如作者的GitHub用户名为umatobu，那么我创建了这样一个项目：<a href="umatobu.github.io">umatobu.github.io</a></li>
</ul>
<p>有了这个项目之后，我们在这个项目提交一个名为“index.html”文件，内容如下。如此之后，你再浏览器输入链接youusername.github.io即可访问到你的博客，虽然这个网站只有一行“hello world”。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=Edge,chrome=1&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;</span><br><span class="line">    &lt;title&gt;I&apos;m title&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;h1&gt;Hello Word&lt;/h1&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>由此可以看出，其实在GitHub上搭建静态网站，其实就是创建一个特殊名称的项目并且这个项目的根目录有名为“index.html”的文件。这个前提有了之后，访问youusername.github.io其实就访问到了“index.html”的文件。</p>
<h3 id="Hexo-安装"><a href="#Hexo-安装" class="headerlink" title="Hexo 安装"></a>Hexo 安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>

<h3 id="淘宝-NPM-镜像"><a href="#淘宝-NPM-镜像" class="headerlink" title="淘宝 NPM 镜像"></a>淘宝 NPM 镜像</h3><p>由于npm服务器在国外，很多时候使用npm包管理来安装包的时候，会出现安装失败或者速度较慢，这里我推荐使用淘宝的<a href="npm.taobao.org">npm镜像</a>，命令如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<p>然后npm命令替换为cnpm就可以愉快的安装npm包了~</p>
<h2 id="本地搭建"><a href="#本地搭建" class="headerlink" title="本地搭建"></a>本地搭建</h2><p>更为详细的命令，例如开启debug调试、指定端口等等，请查看<a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo官网</a>的<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">文档</a>。运行以下命令，在浏览器输入<a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a>即可查看到自己的博客。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init blog</span><br><span class="line">cd blog</span><br><span class="line">npm install</span><br><span class="line">hexo s --debug --port 4000</span><br></pre></td></tr></table></figure>

<p>如果想加更多的博客文章，使用以下命令，然后在source目录的_posts文件夹下找到新添加的文章md文件编辑它，然后再次 hexo s 在本地进行预览：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;postName&quot;</span><br></pre></td></tr></table></figure>

<p>切换主题的话，现在theme文件夹下载你想要的主题，然后编辑根目录_config.yml文件的theme配置项：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: xxx</span><br></pre></td></tr></table></figure>

<h2 id="配置ssh-key"><a href="#配置ssh-key" class="headerlink" title="配置ssh-key"></a>配置ssh-key</h2><p>我们如何让本地 git 项目与远程的 GitHub 建立联系呢？用 SSH keys。首先我们需要检查电脑上是否已有ssh key：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.ssh 检查本机的ssh密钥（如果提示的是No such file or directory，说明你是第一次在本机上使用，需要使用以下命令创建一个）</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;邮件地址@http://youremail.com&quot; （此处的邮箱地址，推荐使用你的GitHub账户邮箱）</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/Users/youruserdirectory/.ssh/id_rsa):&lt;回车就OK&gt;</span><br></pre></td></tr></table></figure>

<p>然后系统会要你输入密码，在回车中会提示你输入一个密码，这个密码会在你提交项目时使用，如果为空的话提交项目时则不用输入。这个设置是防止别人往你的项目里提交内容。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ Enter passphrase (empty for no passphrase):&lt;输入密码&gt;</span><br><span class="line">$ Enter same passphrase again:&lt;再次输入密码&gt;</span><br></pre></td></tr></table></figure>

<p>最后添加ssh key到GitHub：</p>
<ul>
<li>打开本地 id_rsa.pub 文件（如：/Users/fuujiro/.ssh/id_rsa.pub）。此文件里面内容为刚才生成的密钥。如果看不到这个文件，你需要设置显示隐藏文件。准确的复制这个文件的内容，才能保证设置的成功。</li>
<li>登陆 GitHub 系统。点击右上角的Account Settings—&gt;SSH Public keys—&gt;add another public keys</li>
<li>把你本地生成的密钥复制到里面（key文本框中）， 点击add key就ok了</li>
</ul>
<p>测试。可以输入下面的命令，看看设置是否成功，<a href="mailto:git@GitHub.com" target="_blank" rel="noopener">git@GitHub.com</a> 的部分不要修改：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@GitHub.com</span><br></pre></td></tr></table></figure>

<p>按道理会显示下面的反馈：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The authenticity of host &apos;http://GitHub.com (207.97.227.239)&apos; can&apos;t be established.</span><br><span class="line">RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.</span><br><span class="line">Are you sure you want to continue connecting (yes/no)?</span><br></pre></td></tr></table></figure>

<p>输入yes就ok，按道理会显示：:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hi （你的GitHub名字）! You&apos;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure>

<p>恭喜你！SSH Key 配置成功！本机已成功连接到 GitHub。</p>
<h2 id="部署到GitHub"><a href="#部署到GitHub" class="headerlink" title="部署到GitHub"></a>部署到GitHub</h2><p>配置Git信息，已经配置过请忽略：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;你的git用户名&quot;</span><br><span class="line">git config --global user.email &quot;你的git登录邮箱&quot;</span><br></pre></td></tr></table></figure>

<p>修改根目录_config.yml文件的deploy配置项：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo:  git@github.com:&#123;username&#125;/&#123;username&#125;.github.io.git</span><br><span class="line">  baranch: master</span><br></pre></td></tr></table></figure>

<p>安装hexo deploy插件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>部署到GitHub：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp; hexo g &amp; hexo d</span><br></pre></td></tr></table></figure>
      </div>
    </article>
  </div>
</main>
      <footer>
  <div class="paginator"></div>
  <div class="copyright">
    <p>email: umatobu@163.com</p>
    <p>© 2018 - 2019 <a href="https://github.com/umatobu" target="_blank">umatobu</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/umatobu/hexo-theme-umatobu" target="_blank">hexo-theme-umatobu</a>.</p>
  </div>
</footer>
    </div>
  </body>
</html>